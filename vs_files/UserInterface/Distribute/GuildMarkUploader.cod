; Listing generated by Microsoft (R) Optimizing Compiler Version 18.00.40629.0 

	TITLE	D:\Metin2\Metin2\client_source_clean\client_source_clean\source\UserInterface\GuildMarkUploader.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB OLDNAMES

PUBLIC	??_C@_02JDPG@rb?$AA@				; `string'
PUBLIC	??_R2CGuildMarkUploader@@8			; CGuildMarkUploader::`RTTI Base Class Array'
PUBLIC	??_R2?$CSingleton@VCGuildMarkUploader@@@@8	; CSingleton<CGuildMarkUploader>::`RTTI Base Class Array'
PUBLIC	??_R1HM@?0A@EA@?$CSingleton@VCGuildMarkUploader@@@@8 ; CSingleton<CGuildMarkUploader>::`RTTI Base Class Descriptor at (124,-1,0,64)'
PUBLIC	??_R1A@?0A@EA@CGuildMarkUploader@@8		; CGuildMarkUploader::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R1A@?0A@EA@?$CSingleton@VCGuildMarkUploader@@@@8 ; CSingleton<CGuildMarkUploader>::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R3?$CSingleton@VCGuildMarkUploader@@@@8	; CSingleton<CGuildMarkUploader>::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R0?AV?$CSingleton@VCGuildMarkUploader@@@@@8	; CSingleton<CGuildMarkUploader> `RTTI Type Descriptor'
PUBLIC	??_R3CGuildMarkUploader@@8			; CGuildMarkUploader::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R0?AVCGuildMarkUploader@@@8			; CGuildMarkUploader `RTTI Type Descriptor'
PUBLIC	??_R4?$CSingleton@VCGuildMarkUploader@@@@6B@	; CSingleton<CGuildMarkUploader>::`RTTI Complete Object Locator'
PUBLIC	??_R4CGuildMarkUploader@@6B?$CSingleton@VCGuildMarkUploader@@@@@ ; CGuildMarkUploader::`RTTI Complete Object Locator'
PUBLIC	??_R4CGuildMarkUploader@@6BCNetworkStream@@@	; CGuildMarkUploader::`RTTI Complete Object Locator'
PUBLIC	?ms_singleton@?$CSingleton@VCGuildMarkUploader@@@@0PAVCGuildMarkUploader@@A ; CSingleton<CGuildMarkUploader>::ms_singleton
PUBLIC	??_7?$CSingleton@VCGuildMarkUploader@@@@6B@	; CSingleton<CGuildMarkUploader>::`vftable'
PUBLIC	??_7CGuildMarkUploader@@6B?$CSingleton@VCGuildMarkUploader@@@@@ ; CGuildMarkUploader::`vftable'
PUBLIC	??_7CGuildMarkUploader@@6BCNetworkStream@@@	; CGuildMarkUploader::`vftable'
EXTRN	?__SendInternalBuffer@CNetworkStream@@IAE_NXZ:PROC ; CNetworkStream::__SendInternalBuffer
EXTRN	_fread:PROC
EXTRN	_ftell:PROC
EXTRN	_fseek:PROC
EXTRN	__imp__ilShutDown@0:PROC
EXTRN	__imp__ilDeleteImages@8:PROC
EXTRN	__imp__ilCopyPixels@36:PROC
EXTRN	__imp__ilConvertImage@8:PROC
EXTRN	__imp__ilGetInteger@4:PROC
EXTRN	__imp__ilLoad@8:PROC
EXTRN	__imp__ilOriginFunc@4:PROC
EXTRN	__imp__ilEnable@4:PROC
EXTRN	__imp__ilBindImage@4:PROC
EXTRN	__imp__ilGenImages@8:PROC
;	COMDAT ?ms_singleton@?$CSingleton@VCGuildMarkUploader@@@@0PAVCGuildMarkUploader@@A
_BSS	SEGMENT
?ms_singleton@?$CSingleton@VCGuildMarkUploader@@@@0PAVCGuildMarkUploader@@A DD 01H DUP (?) ; CSingleton<CGuildMarkUploader>::ms_singleton
_BSS	ENDS
;	COMDAT ??_7CGuildMarkUploader@@6BCNetworkStream@@@
CONST	SEGMENT
??_7CGuildMarkUploader@@6BCNetworkStream@@@ DD FLAT:??_R4CGuildMarkUploader@@6BCNetworkStream@@@ ; CGuildMarkUploader::`vftable'
	DD	FLAT:??_ECGuildMarkUploader@@UAEPAXI@Z
	DD	FLAT:?OnConnectSuccess@CGuildMarkUploader@@EAEXXZ
	DD	FLAT:?OnConnectFailure@CGuildMarkUploader@@EAEXXZ
	DD	FLAT:?OnRemoteDisconnect@CGuildMarkUploader@@EAEXXZ
	DD	FLAT:?OnDisconnect@CGuildMarkUploader@@EAEXXZ
	DD	FLAT:?OnProcess@CNetworkStream@@MAE_NXZ
CONST	ENDS
;	COMDAT ??_7CGuildMarkUploader@@6B?$CSingleton@VCGuildMarkUploader@@@@@
CONST	SEGMENT
??_7CGuildMarkUploader@@6B?$CSingleton@VCGuildMarkUploader@@@@@ DD FLAT:??_R4CGuildMarkUploader@@6B?$CSingleton@VCGuildMarkUploader@@@@@ ; CGuildMarkUploader::`vftable'
	DD	FLAT:??_ECGuildMarkUploader@@WHM@AEPAXI@Z
CONST	ENDS
;	COMDAT ??_7?$CSingleton@VCGuildMarkUploader@@@@6B@
CONST	SEGMENT
??_7?$CSingleton@VCGuildMarkUploader@@@@6B@ DD FLAT:??_R4?$CSingleton@VCGuildMarkUploader@@@@6B@ ; CSingleton<CGuildMarkUploader>::`vftable'
	DD	FLAT:??_E?$CSingleton@VCGuildMarkUploader@@@@UAEPAXI@Z
CONST	ENDS
;	COMDAT ??_R4CGuildMarkUploader@@6BCNetworkStream@@@
rdata$r	SEGMENT
??_R4CGuildMarkUploader@@6BCNetworkStream@@@ DD 00H	; CGuildMarkUploader::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCGuildMarkUploader@@@8
	DD	FLAT:??_R3CGuildMarkUploader@@8
rdata$r	ENDS
;	COMDAT ??_R4CGuildMarkUploader@@6B?$CSingleton@VCGuildMarkUploader@@@@@
rdata$r	SEGMENT
??_R4CGuildMarkUploader@@6B?$CSingleton@VCGuildMarkUploader@@@@@ DD 00H ; CGuildMarkUploader::`RTTI Complete Object Locator'
	DD	07cH
	DD	00H
	DD	FLAT:??_R0?AVCGuildMarkUploader@@@8
	DD	FLAT:??_R3CGuildMarkUploader@@8
rdata$r	ENDS
;	COMDAT ??_R4?$CSingleton@VCGuildMarkUploader@@@@6B@
rdata$r	SEGMENT
??_R4?$CSingleton@VCGuildMarkUploader@@@@6B@ DD 00H	; CSingleton<CGuildMarkUploader>::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AV?$CSingleton@VCGuildMarkUploader@@@@@8
	DD	FLAT:??_R3?$CSingleton@VCGuildMarkUploader@@@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCGuildMarkUploader@@@8
data$r	SEGMENT
??_R0?AVCGuildMarkUploader@@@8 DD FLAT:??_7type_info@@6B@ ; CGuildMarkUploader `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCGuildMarkUploader@@', 00H
data$r	ENDS
;	COMDAT ??_R3CGuildMarkUploader@@8
rdata$r	SEGMENT
??_R3CGuildMarkUploader@@8 DD 00H			; CGuildMarkUploader::`RTTI Class Hierarchy Descriptor'
	DD	01H
	DD	03H
	DD	FLAT:??_R2CGuildMarkUploader@@8
rdata$r	ENDS
;	COMDAT ??_R0?AV?$CSingleton@VCGuildMarkUploader@@@@@8
data$r	SEGMENT
??_R0?AV?$CSingleton@VCGuildMarkUploader@@@@@8 DD FLAT:??_7type_info@@6B@ ; CSingleton<CGuildMarkUploader> `RTTI Type Descriptor'
	DD	00H
	DB	'.?AV?$CSingleton@VCGuildMarkUploader@@@@', 00H
data$r	ENDS
;	COMDAT ??_R3?$CSingleton@VCGuildMarkUploader@@@@8
rdata$r	SEGMENT
??_R3?$CSingleton@VCGuildMarkUploader@@@@8 DD 00H	; CSingleton<CGuildMarkUploader>::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2?$CSingleton@VCGuildMarkUploader@@@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@?$CSingleton@VCGuildMarkUploader@@@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@?$CSingleton@VCGuildMarkUploader@@@@8 DD FLAT:??_R0?AV?$CSingleton@VCGuildMarkUploader@@@@@8 ; CSingleton<CGuildMarkUploader>::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3?$CSingleton@VCGuildMarkUploader@@@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@CGuildMarkUploader@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CGuildMarkUploader@@8 DD FLAT:??_R0?AVCGuildMarkUploader@@@8 ; CGuildMarkUploader::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	02H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CGuildMarkUploader@@8
rdata$r	ENDS
;	COMDAT ??_R1HM@?0A@EA@?$CSingleton@VCGuildMarkUploader@@@@8
rdata$r	SEGMENT
??_R1HM@?0A@EA@?$CSingleton@VCGuildMarkUploader@@@@8 DD FLAT:??_R0?AV?$CSingleton@VCGuildMarkUploader@@@@@8 ; CSingleton<CGuildMarkUploader>::`RTTI Base Class Descriptor at (124,-1,0,64)'
	DD	00H
	DD	07cH
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3?$CSingleton@VCGuildMarkUploader@@@@8
rdata$r	ENDS
;	COMDAT ??_R2?$CSingleton@VCGuildMarkUploader@@@@8
rdata$r	SEGMENT
??_R2?$CSingleton@VCGuildMarkUploader@@@@8 DD FLAT:??_R1A@?0A@EA@?$CSingleton@VCGuildMarkUploader@@@@8 ; CSingleton<CGuildMarkUploader>::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R2CGuildMarkUploader@@8
rdata$r	SEGMENT
??_R2CGuildMarkUploader@@8 DD FLAT:??_R1A@?0A@EA@CGuildMarkUploader@@8 ; CGuildMarkUploader::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@CNetworkStream@@8
	DD	FLAT:??_R1HM@?0A@EA@?$CSingleton@VCGuildMarkUploader@@@@8
rdata$r	ENDS
;	COMDAT ??_C@_02JDPG@rb?$AA@
CONST	SEGMENT
??_C@_02JDPG@rb?$AA@ DB 'rb', 00H			; `string'
PUBLIC	??_ECGuildMarkUploader@@WHM@AEPAXI@Z		; [thunk]:CGuildMarkUploader::`vector deleting destructor'
PUBLIC	??_G?$CSingleton@VCGuildMarkUploader@@@@UAEPAXI@Z ; CSingleton<CGuildMarkUploader>::`scalar deleting destructor'
PUBLIC	??1?$CSingleton@VCGuildMarkUploader@@@@UAE@XZ	; CSingleton<CGuildMarkUploader>::~CSingleton<CGuildMarkUploader>
PUBLIC	??0?$CSingleton@VCGuildMarkUploader@@@@QAE@XZ	; CSingleton<CGuildMarkUploader>::CSingleton<CGuildMarkUploader>
PUBLIC	?__AnalyzePacket@CGuildMarkUploader@@AAE_NIIP81@AE_NXZ@Z ; CGuildMarkUploader::__AnalyzePacket
PUBLIC	?__LoginState_RecvKeyAgreementCompleted@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_RecvKeyAgreementCompleted
PUBLIC	?__LoginState_RecvKeyAgreement@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_RecvKeyAgreement
PUBLIC	?__LoginState_RecvPing@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_RecvPing
PUBLIC	?__LoginState_RecvHandshake@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_RecvHandshake
PUBLIC	?__LoginState_RecvPhase@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_RecvPhase
PUBLIC	?__SendSymbolPacket@CGuildMarkUploader@@AAE_NXZ	; CGuildMarkUploader::__SendSymbolPacket
PUBLIC	?__SendMarkPacket@CGuildMarkUploader@@AAE_NXZ	; CGuildMarkUploader::__SendMarkPacket
PUBLIC	?__LoginState_Process@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_Process
PUBLIC	?__LoginState_Set@CGuildMarkUploader@@AAEXXZ	; CGuildMarkUploader::__LoginState_Set
PUBLIC	?__CompleteState_Set@CGuildMarkUploader@@AAEXXZ	; CGuildMarkUploader::__CompleteState_Set
PUBLIC	?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ	; CGuildMarkUploader::__OfflineState_Set
PUBLIC	?__StateProcess@CGuildMarkUploader@@AAE_NXZ	; CGuildMarkUploader::__StateProcess
PUBLIC	?__Inialize@CGuildMarkUploader@@AAEXXZ		; CGuildMarkUploader::__Inialize
PUBLIC	?OnDisconnect@CGuildMarkUploader@@EAEXXZ	; CGuildMarkUploader::OnDisconnect
PUBLIC	?OnRemoteDisconnect@CGuildMarkUploader@@EAEXXZ	; CGuildMarkUploader::OnRemoteDisconnect
PUBLIC	?OnConnectSuccess@CGuildMarkUploader@@EAEXXZ	; CGuildMarkUploader::OnConnectSuccess
PUBLIC	?OnConnectFailure@CGuildMarkUploader@@EAEXXZ	; CGuildMarkUploader::OnConnectFailure
PUBLIC	?Process@CGuildMarkUploader@@QAEXXZ		; CGuildMarkUploader::Process
PUBLIC	?ConnectToSendSymbol@CGuildMarkUploader@@QAE_NABVCNetworkAddress@@KKKPBDPAI@Z ; CGuildMarkUploader::ConnectToSendSymbol
PUBLIC	?Connect@CGuildMarkUploader@@QAE_NABVCNetworkAddress@@KKKPBDPAI@Z ; CGuildMarkUploader::Connect
PUBLIC	?__LoadSymbol@CGuildMarkUploader@@AAE_NPBDPAI@Z	; CGuildMarkUploader::__LoadSymbol
PUBLIC	?__Load@CGuildMarkUploader@@AAE_NPBDPAI@Z	; CGuildMarkUploader::__Load
PUBLIC	?Disconnect@CGuildMarkUploader@@QAEXXZ		; CGuildMarkUploader::Disconnect
PUBLIC	??1CGuildMarkUploader@@UAE@XZ			; CGuildMarkUploader::~CGuildMarkUploader
PUBLIC	??_GCGuildMarkUploader@@UAEPAXI@Z		; CGuildMarkUploader::`scalar deleting destructor'
PUBLIC	??0CGuildMarkUploader@@QAE@XZ			; CGuildMarkUploader::CGuildMarkUploader
EXTRN	??_ECGuildMarkUploader@@UAEPAXI@Z:PROC		; CGuildMarkUploader::`vector deleting destructor'
EXTRN	??_E?$CSingleton@VCGuildMarkUploader@@@@UAEPAXI@Z:PROC ; CSingleton<CGuildMarkUploader>::`vector deleting destructor'
;	COMDAT xdata$x
xdata$x	SEGMENT
__ehfuncinfo$??0CGuildMarkUploader@@QAE@XZ DD 019930522H
	DD	02H
	DD	FLAT:__unwindtable$??0CGuildMarkUploader@@QAE@XZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
__unwindtable$??0CGuildMarkUploader@@QAE@XZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$??0CGuildMarkUploader@@QAE@XZ$0
	DD	00H
	DD	FLAT:__unwindfunclet$??0CGuildMarkUploader@@QAE@XZ$1
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\singleton.h
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ??0CGuildMarkUploader@@QAE@XZ
_TEXT	SEGMENT
_this$ = -16						; size = 4
__$EHRec$ = -12						; size = 12
??0CGuildMarkUploader@@QAE@XZ PROC			; CGuildMarkUploader::CGuildMarkUploader, COMDAT
; _this$ = ecx

; 11   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??0CGuildMarkUploader@@QAE@XZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	56		 push	 esi
  00013	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00018	33 c5		 xor	 eax, ebp
  0001a	50		 push	 eax
  0001b	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001e	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00024	8b f1		 mov	 esi, ecx
  00026	89 75 f0	 mov	 DWORD PTR _this$[ebp], esi
  00029	e8 00 00 00 00	 call	 ??0CNetworkStream@@QAE@XZ ; CNetworkStream::CNetworkStream
  0002e	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\singleton.h

; 15   : 		ms_singleton = (T*) ((int) this + offset);

  00035	8b c6		 mov	 eax, esi
  00037	c7 46 7c 00 00
	00 00		 mov	 DWORD PTR [esi+124], OFFSET ??_7?$CSingleton@VCGuildMarkUploader@@@@6B@
  0003e	a3 00 00 00 00	 mov	 DWORD PTR ?ms_singleton@?$CSingleton@VCGuildMarkUploader@@@@0PAVCGuildMarkUploader@@A, eax ; CSingleton<CGuildMarkUploader>::ms_singleton
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp

; 11   : {

  00043	c6 45 fc 01	 mov	 BYTE PTR __$EHRec$[ebp+8], 1

; 12   : 	SetRecvBufferSize(1024);

  00047	8b ce		 mov	 ecx, esi
  00049	68 00 04 00 00	 push	 1024			; 00000400H
  0004e	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7CGuildMarkUploader@@6BCNetworkStream@@@
  00054	c7 46 7c 00 00
	00 00		 mov	 DWORD PTR [esi+124], OFFSET ??_7CGuildMarkUploader@@6B?$CSingleton@VCGuildMarkUploader@@@@@
  0005b	c7 86 9c 03 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+924], 0
  00065	e8 00 00 00 00	 call	 ?SetRecvBufferSize@CNetworkStream@@QAEXH@Z ; CNetworkStream::SetRecvBufferSize

; 13   : 	SetSendBufferSize(1024);

  0006a	68 00 04 00 00	 push	 1024			; 00000400H
  0006f	8b ce		 mov	 ecx, esi
  00071	e8 00 00 00 00	 call	 ?SetSendBufferSize@CNetworkStream@@QAEXH@Z ; CNetworkStream::SetSendBufferSize

; 14   : 	__Inialize();

  00076	8b ce		 mov	 ecx, esi
  00078	e8 00 00 00 00	 call	 ?__Inialize@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__Inialize

; 15   : }

  0007d	8b c6		 mov	 eax, esi
  0007f	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00082	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00089	59		 pop	 ecx
  0008a	5e		 pop	 esi
  0008b	8b e5		 mov	 esp, ebp
  0008d	5d		 pop	 ebp
  0008e	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$??0CGuildMarkUploader@@QAE@XZ$0:
  00000	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  00003	e9 00 00 00 00	 jmp	 ??1CNetworkStream@@UAE@XZ ; CNetworkStream::~CNetworkStream
__unwindfunclet$??0CGuildMarkUploader@@QAE@XZ$1:
  00008	8b 4d f0	 mov	 ecx, DWORD PTR _this$[ebp]
  0000b	83 c1 7c	 add	 ecx, 124		; 0000007cH
  0000e	e9 00 00 00 00	 jmp	 ??1?$CSingleton@VCGuildMarkUploader@@@@UAE@XZ ; CSingleton<CGuildMarkUploader>::~CSingleton<CGuildMarkUploader>
__ehhandler$??0CGuildMarkUploader@@QAE@XZ:
  00013	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00017	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  0001a	8b 4a f4	 mov	 ecx, DWORD PTR [edx-12]
  0001d	33 c8		 xor	 ecx, eax
  0001f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00024	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??0CGuildMarkUploader@@QAE@XZ
  00029	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??0CGuildMarkUploader@@QAE@XZ ENDP			; CGuildMarkUploader::CGuildMarkUploader
; Function compile flags: /Ogtp
;	COMDAT ??_GCGuildMarkUploader@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCGuildMarkUploader@@UAEPAXI@Z PROC			; CGuildMarkUploader::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	e8 00 00 00 00	 call	 ??1CGuildMarkUploader@@UAE@XZ ; CGuildMarkUploader::~CGuildMarkUploader
  0000b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0000f	74 09		 je	 SHORT $LN4@scalar
  00011	56		 push	 esi
  00012	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00017	83 c4 04	 add	 esp, 4
$LN4@scalar:
  0001a	8b c6		 mov	 eax, esi
  0001c	5e		 pop	 esi
  0001d	5d		 pop	 ebp
  0001e	c2 04 00	 ret	 4
??_GCGuildMarkUploader@@UAEPAXI@Z ENDP			; CGuildMarkUploader::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\singleton.h
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\singleton.h
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ??1CGuildMarkUploader@@UAE@XZ
_TEXT	SEGMENT
??1CGuildMarkUploader@@UAE@XZ PROC			; CGuildMarkUploader::~CGuildMarkUploader, COMDAT
; _this$ = ecx

; 18   : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx
  00003	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7CGuildMarkUploader@@6BCNetworkStream@@@
  00009	c7 46 7c 00 00
	00 00		 mov	 DWORD PTR [esi+124], OFFSET ??_7CGuildMarkUploader@@6B?$CSingleton@VCGuildMarkUploader@@@@@

; 19   : 	__OfflineState_Set();

  00010	e8 00 00 00 00	 call	 ?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__OfflineState_Set
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\singleton.h

; 19   : 	{ 

  00015	c7 46 7c 00 00
	00 00		 mov	 DWORD PTR [esi+124], OFFSET ??_7?$CSingleton@VCGuildMarkUploader@@@@6B@
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp

; 20   : }

  0001c	8b ce		 mov	 ecx, esi
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\singleton.h

; 21   : 		ms_singleton = 0; 

  0001e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?ms_singleton@?$CSingleton@VCGuildMarkUploader@@@@0PAVCGuildMarkUploader@@A, 0 ; CSingleton<CGuildMarkUploader>::ms_singleton
  00028	5e		 pop	 esi
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp

; 20   : }

  00029	e9 00 00 00 00	 jmp	 ??1CNetworkStream@@UAE@XZ ; CNetworkStream::~CNetworkStream
??1CGuildMarkUploader@@UAE@XZ ENDP			; CGuildMarkUploader::~CGuildMarkUploader
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?Disconnect@CGuildMarkUploader@@QAEXXZ
_TEXT	SEGMENT
?Disconnect@CGuildMarkUploader@@QAEXXZ PROC		; CGuildMarkUploader::Disconnect, COMDAT
; _this$ = ecx

; 24   : 	__OfflineState_Set();

  00000	e9 00 00 00 00	 jmp	 ?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__OfflineState_Set
?Disconnect@CGuildMarkUploader@@QAEXXZ ENDP		; CGuildMarkUploader::Disconnect
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__Load@CGuildMarkUploader@@AAE_NPBDPAI@Z
_TEXT	SEGMENT
_uImg$ = -4						; size = 4
_c_szFileName$ = 8					; size = 4
_peError$ = 12						; size = 4
?__Load@CGuildMarkUploader@@AAE_NPBDPAI@Z PROC		; CGuildMarkUploader::__Load, COMDAT
; _this$ = ecx

; 73   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	57		 push	 edi

; 74   : 	ILuint uImg;
; 75   : 	ilGenImages(1, &uImg);

  00005	8d 45 fc	 lea	 eax, DWORD PTR _uImg$[ebp]
  00008	8b f9		 mov	 edi, ecx
  0000a	50		 push	 eax
  0000b	6a 01		 push	 1
  0000d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilGenImages@8

; 76   : 	ilBindImage(uImg);

  00013	ff 75 fc	 push	 DWORD PTR _uImg$[ebp]
  00016	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilBindImage@4

; 77   : 	ilEnable(IL_ORIGIN_SET);

  0001c	68 00 06 00 00	 push	 1536			; 00000600H
  00021	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilEnable@4

; 78   : 	ilOriginFunc(IL_ORIGIN_UPPER_LEFT);

  00027	68 02 06 00 00	 push	 1538			; 00000602H
  0002c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilOriginFunc@4

; 79   : 
; 80   : 	if (!ilLoad(IL_TYPE_UNKNOWN, (const ILstring)c_szFileName))	

  00032	ff 75 08	 push	 DWORD PTR _c_szFileName$[ebp]
  00035	6a 00		 push	 0
  00037	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilLoad@8
  0003d	84 c0		 test	 al, al
  0003f	75 12		 jne	 SHORT $LN3@Load

; 81   : 	{
; 82   : 		*peError=ERROR_LOAD;

  00041	8b 45 0c	 mov	 eax, DWORD PTR _peError$[ebp]
  00044	5f		 pop	 edi
  00045	c7 00 02 00 00
	00		 mov	 DWORD PTR [eax], 2

; 83   : 		return false;

  0004b	32 c0		 xor	 al, al

; 104  : }

  0004d	8b e5		 mov	 esp, ebp
  0004f	5d		 pop	 ebp
  00050	c2 08 00	 ret	 8
$LN3@Load:

; 84   : 	}
; 85   : 
; 86   : 	if (ilGetInteger(IL_IMAGE_WIDTH)!=SGuildMark::WIDTH)	

  00053	68 e4 0d 00 00	 push	 3556			; 00000de4H
  00058	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilGetInteger@4
  0005e	83 f8 10	 cmp	 eax, 16			; 00000010H
  00061	74 12		 je	 SHORT $LN2@Load

; 87   : 	{
; 88   : 		*peError=ERROR_WIDTH;

  00063	8b 45 0c	 mov	 eax, DWORD PTR _peError$[ebp]
  00066	5f		 pop	 edi
  00067	c7 00 03 00 00
	00		 mov	 DWORD PTR [eax], 3

; 89   : 		return false;

  0006d	32 c0		 xor	 al, al

; 104  : }

  0006f	8b e5		 mov	 esp, ebp
  00071	5d		 pop	 ebp
  00072	c2 08 00	 ret	 8
$LN2@Load:

; 90   : 	}
; 91   : 
; 92   : 	if (ilGetInteger(IL_IMAGE_HEIGHT)!=SGuildMark::HEIGHT)

  00075	68 e5 0d 00 00	 push	 3557			; 00000de5H
  0007a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilGetInteger@4
  00080	83 f8 0c	 cmp	 eax, 12			; 0000000cH
  00083	74 12		 je	 SHORT $LN1@Load

; 93   : 	{
; 94   : 		*peError=ERROR_HEIGHT;

  00085	8b 45 0c	 mov	 eax, DWORD PTR _peError$[ebp]
  00088	5f		 pop	 edi
  00089	c7 00 04 00 00
	00		 mov	 DWORD PTR [eax], 4

; 95   : 		return false;

  0008f	32 c0		 xor	 al, al

; 104  : }

  00091	8b e5		 mov	 esp, ebp
  00093	5d		 pop	 ebp
  00094	c2 08 00	 ret	 8
$LN1@Load:

; 96   : 	}
; 97   : 
; 98   : 	ilConvertImage(IL_BGRA, IL_BYTE);

  00097	68 00 14 00 00	 push	 5120			; 00001400H
  0009c	68 e1 80 00 00	 push	 32993			; 000080e1H
  000a1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilConvertImage@8

; 99   : 
; 100  : 	ilCopyPixels(0, 0, 0, SGuildMark::WIDTH, SGuildMark::HEIGHT, 1, IL_BGRA, IL_BYTE, (ILvoid*)m_kMark.m_apxBuf);

  000a7	8d 87 94 00 00
	00		 lea	 eax, DWORD PTR [edi+148]
  000ad	50		 push	 eax
  000ae	68 00 14 00 00	 push	 5120			; 00001400H
  000b3	68 e1 80 00 00	 push	 32993			; 000080e1H
  000b8	6a 01		 push	 1
  000ba	6a 0c		 push	 12			; 0000000cH
  000bc	6a 10		 push	 16			; 00000010H
  000be	6a 00		 push	 0
  000c0	6a 00		 push	 0
  000c2	6a 00		 push	 0
  000c4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilCopyPixels@36

; 101  : 
; 102  : 	ilDeleteImages(1, &uImg);

  000ca	8d 45 fc	 lea	 eax, DWORD PTR _uImg$[ebp]
  000cd	50		 push	 eax
  000ce	6a 01		 push	 1
  000d0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilDeleteImages@8

; 103  : 	return true;

  000d6	b0 01		 mov	 al, 1
  000d8	5f		 pop	 edi

; 104  : }

  000d9	8b e5		 mov	 esp, ebp
  000db	5d		 pop	 ebp
  000dc	c2 08 00	 ret	 8
?__Load@CGuildMarkUploader@@AAE_NPBDPAI@Z ENDP		; CGuildMarkUploader::__Load
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__LoadSymbol@CGuildMarkUploader@@AAE_NPBDPAI@Z
_TEXT	SEGMENT
_uImg$ = -4						; size = 4
_c_szFileName$ = 8					; size = 4
_peError$ = 12						; size = 4
?__LoadSymbol@CGuildMarkUploader@@AAE_NPBDPAI@Z PROC	; CGuildMarkUploader::__LoadSymbol, COMDAT
; _this$ = ecx

; 107  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	53		 push	 ebx
  00005	57		 push	 edi

; 108  : 	//	For Check Image
; 109  : 	ILuint uImg;
; 110  : 	ilGenImages(1, &uImg);

  00006	8d 45 fc	 lea	 eax, DWORD PTR _uImg$[ebp]
  00009	8b d9		 mov	 ebx, ecx
  0000b	50		 push	 eax
  0000c	6a 01		 push	 1
  0000e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilGenImages@8

; 111  : 	ilBindImage(uImg);

  00014	ff 75 fc	 push	 DWORD PTR _uImg$[ebp]
  00017	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilBindImage@4

; 112  : 	ilEnable(IL_ORIGIN_SET);

  0001d	68 00 06 00 00	 push	 1536			; 00000600H
  00022	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilEnable@4

; 113  : 	ilOriginFunc(IL_ORIGIN_UPPER_LEFT);

  00028	68 02 06 00 00	 push	 1538			; 00000602H
  0002d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilOriginFunc@4

; 114  : 	if (!ilLoad(IL_TYPE_UNKNOWN, (const ILstring)c_szFileName))

  00033	8b 7d 08	 mov	 edi, DWORD PTR _c_szFileName$[ebp]
  00036	57		 push	 edi
  00037	6a 00		 push	 0
  00039	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilLoad@8
  0003f	84 c0		 test	 al, al
  00041	75 13		 jne	 SHORT $LN4@LoadSymbol

; 115  : 	{
; 116  : 		*peError=ERROR_LOAD;

  00043	8b 45 0c	 mov	 eax, DWORD PTR _peError$[ebp]
  00046	5f		 pop	 edi
  00047	5b		 pop	 ebx
  00048	c7 00 02 00 00
	00		 mov	 DWORD PTR [eax], 2

; 117  : 		return false;

  0004e	32 c0		 xor	 al, al

; 153  : }

  00050	8b e5		 mov	 esp, ebp
  00052	5d		 pop	 ebp
  00053	c2 08 00	 ret	 8
$LN4@LoadSymbol:
  00056	56		 push	 esi

; 118  : 	}
; 119  : 	if (ilGetInteger(IL_IMAGE_WIDTH) != 64)

  00057	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR __imp__ilGetInteger@4
  0005d	68 e4 0d 00 00	 push	 3556			; 00000de4H
  00062	ff d6		 call	 esi
  00064	83 f8 40	 cmp	 eax, 64			; 00000040H
  00067	74 14		 je	 SHORT $LN3@LoadSymbol

; 120  : 	{
; 121  : 		*peError=ERROR_WIDTH;

  00069	8b 45 0c	 mov	 eax, DWORD PTR _peError$[ebp]
  0006c	5e		 pop	 esi
  0006d	5f		 pop	 edi
  0006e	5b		 pop	 ebx
  0006f	c7 00 03 00 00
	00		 mov	 DWORD PTR [eax], 3

; 122  : 		return false;

  00075	32 c0		 xor	 al, al

; 153  : }

  00077	8b e5		 mov	 esp, ebp
  00079	5d		 pop	 ebp
  0007a	c2 08 00	 ret	 8
$LN3@LoadSymbol:

; 123  : 	}
; 124  : 	if (ilGetInteger(IL_IMAGE_HEIGHT) != 128)

  0007d	68 e5 0d 00 00	 push	 3557			; 00000de5H
  00082	ff d6		 call	 esi
  00084	3d 80 00 00 00	 cmp	 eax, 128		; 00000080H
  00089	74 14		 je	 SHORT $LN2@LoadSymbol

; 125  : 	{
; 126  : 		*peError=ERROR_HEIGHT;

  0008b	8b 45 0c	 mov	 eax, DWORD PTR _peError$[ebp]
  0008e	5e		 pop	 esi
  0008f	5f		 pop	 edi
  00090	5b		 pop	 ebx
  00091	c7 00 04 00 00
	00		 mov	 DWORD PTR [eax], 4

; 127  : 		return false;

  00097	32 c0		 xor	 al, al

; 153  : }

  00099	8b e5		 mov	 esp, ebp
  0009b	5d		 pop	 ebp
  0009c	c2 08 00	 ret	 8
$LN2@LoadSymbol:

; 128  : 	}
; 129  : 	ilDeleteImages(1, &uImg);

  0009f	8d 45 fc	 lea	 eax, DWORD PTR _uImg$[ebp]
  000a2	50		 push	 eax
  000a3	6a 01		 push	 1
  000a5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilDeleteImages@8

; 130  : 	ilShutDown();

  000ab	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ilShutDown@0

; 131  : 
; 132  : 	/////
; 133  : 
; 134  : 	FILE * file = fopen(c_szFileName, "rb");

  000b1	68 00 00 00 00	 push	 OFFSET ??_C@_02JDPG@rb?$AA@
  000b6	57		 push	 edi
  000b7	e8 00 00 00 00	 call	 _fopen
  000bc	8b f0		 mov	 esi, eax
  000be	83 c4 08	 add	 esp, 8

; 135  : 	if (!file)

  000c1	85 f6		 test	 esi, esi
  000c3	75 09		 jne	 SHORT $LN1@LoadSymbol

; 136  : 	{
; 137  : 		*peError=ERROR_LOAD;

  000c5	8b 4d 0c	 mov	 ecx, DWORD PTR _peError$[ebp]
  000c8	c7 01 02 00 00
	00		 mov	 DWORD PTR [ecx], 2
$LN1@LoadSymbol:

; 138  : 	}
; 139  : 
; 140  : 	fseek(file, 0, SEEK_END);

  000ce	6a 02		 push	 2
  000d0	6a 00		 push	 0
  000d2	56		 push	 esi
  000d3	e8 00 00 00 00	 call	 _fseek

; 141  : 	m_dwSymbolBufSize = ftell(file);

  000d8	56		 push	 esi
  000d9	e8 00 00 00 00	 call	 _ftell

; 142  : 	fseek(file, 0, SEEK_SET);

  000de	6a 00		 push	 0
  000e0	6a 00		 push	 0
  000e2	56		 push	 esi
  000e3	89 83 94 03 00
	00		 mov	 DWORD PTR [ebx+916], eax
  000e9	e8 00 00 00 00	 call	 _fseek

; 143  : 
; 144  : 	m_pbySymbolBuf = new BYTE [m_dwSymbolBufSize];

  000ee	ff b3 94 03 00
	00		 push	 DWORD PTR [ebx+916]
  000f4	e8 00 00 00 00	 call	 ??_U@YAPAXI@Z		; operator new[]

; 145  : 	fread(m_pbySymbolBuf, m_dwSymbolBufSize, 1, file);

  000f9	56		 push	 esi
  000fa	6a 01		 push	 1
  000fc	ff b3 94 03 00
	00		 push	 DWORD PTR [ebx+916]
  00102	89 83 9c 03 00
	00		 mov	 DWORD PTR [ebx+924], eax
  00108	50		 push	 eax
  00109	e8 00 00 00 00	 call	 _fread

; 146  : 
; 147  : 	fclose(file);

  0010e	56		 push	 esi
  0010f	e8 00 00 00 00	 call	 _fclose

; 148  : 
; 149  : 	/////
; 150  : 
; 151  : 	m_dwSymbolCRC32 = GetFileCRC32(c_szFileName);

  00114	57		 push	 edi
  00115	e8 00 00 00 00	 call	 ?GetFileCRC32@@YAKPBD@Z	; GetFileCRC32
  0011a	83 c4 38	 add	 esp, 56			; 00000038H
  0011d	89 83 98 03 00
	00		 mov	 DWORD PTR [ebx+920], eax

; 152  : 	return true;

  00123	b0 01		 mov	 al, 1
  00125	5e		 pop	 esi
  00126	5f		 pop	 edi
  00127	5b		 pop	 ebx

; 153  : }

  00128	8b e5		 mov	 esp, ebp
  0012a	5d		 pop	 ebp
  0012b	c2 08 00	 ret	 8
?__LoadSymbol@CGuildMarkUploader@@AAE_NPBDPAI@Z ENDP	; CGuildMarkUploader::__LoadSymbol
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?Connect@CGuildMarkUploader@@QAE_NABVCNetworkAddress@@KKKPBDPAI@Z
_TEXT	SEGMENT
_c_rkNetAddr$ = 8					; size = 4
_dwHandle$ = 12						; size = 4
_dwRandomKey$ = 16					; size = 4
_dwGuildID$ = 20					; size = 4
_c_szFileName$ = 24					; size = 4
_peError$ = 28						; size = 4
?Connect@CGuildMarkUploader@@QAE_NABVCNetworkAddress@@KKKPBDPAI@Z PROC ; CGuildMarkUploader::Connect, COMDAT
; _this$ = ecx

; 156  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx

; 157  : 	__OfflineState_Set();

  00006	e8 00 00 00 00	 call	 ?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__OfflineState_Set

; 158  : 	SetRecvBufferSize(1024);

  0000b	68 00 04 00 00	 push	 1024			; 00000400H
  00010	8b ce		 mov	 ecx, esi
  00012	e8 00 00 00 00	 call	 ?SetRecvBufferSize@CNetworkStream@@QAEXH@Z ; CNetworkStream::SetRecvBufferSize

; 159  : 	SetSendBufferSize(1024);

  00017	68 00 04 00 00	 push	 1024			; 00000400H
  0001c	8b ce		 mov	 ecx, esi
  0001e	e8 00 00 00 00	 call	 ?SetSendBufferSize@CNetworkStream@@QAEXH@Z ; CNetworkStream::SetSendBufferSize

; 160  : 
; 161  : 	if (!CNetworkStream::Connect(c_rkNetAddr))

  00023	6a 03		 push	 3
  00025	ff 75 08	 push	 DWORD PTR _c_rkNetAddr$[ebp]
  00028	8b ce		 mov	 ecx, esi
  0002a	e8 00 00 00 00	 call	 ?Connect@CNetworkStream@@QAE_NABVCNetworkAddress@@H@Z ; CNetworkStream::Connect
  0002f	84 c0		 test	 al, al
  00031	75 10		 jne	 SHORT $LN2@Connect

; 162  : 	{
; 163  : 		*peError=ERROR_CONNECT;

  00033	8b 45 1c	 mov	 eax, DWORD PTR _peError$[ebp]
  00036	5e		 pop	 esi
  00037	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1

; 164  : 		return false;

  0003d	32 c0		 xor	 al, al

; 173  : 		return false;
; 174  : 		
; 175  : 	//if (!__Save(CGraphicMarkInstance::GetImageFileName().c_str()))
; 176  : 	//	return false;
; 177  : 	//CGraphicMarkInstance::ReloadImageFile();
; 178  : 	return true;
; 179  : }

  0003f	5d		 pop	 ebp
  00040	c2 18 00	 ret	 24			; 00000018H
$LN2@Connect:

; 165  : 	}
; 166  : 
; 167  : 	m_dwSendType=SEND_TYPE_MARK;
; 168  : 	m_dwHandle=dwHandle;

  00043	8b 45 0c	 mov	 eax, DWORD PTR _dwHandle$[ebp]

; 169  : 	m_dwRandomKey=dwRandomKey;
; 170  : 	m_dwGuildID=dwGuildID;
; 171  : 
; 172  : 	if (!__Load(c_szFileName, peError))

  00046	8b ce		 mov	 ecx, esi
  00048	ff 75 1c	 push	 DWORD PTR _peError$[ebp]
  0004b	89 86 88 00 00
	00		 mov	 DWORD PTR [esi+136], eax
  00051	8b 45 10	 mov	 eax, DWORD PTR _dwRandomKey$[ebp]
  00054	ff 75 18	 push	 DWORD PTR _c_szFileName$[ebp]
  00057	89 86 8c 00 00
	00		 mov	 DWORD PTR [esi+140], eax
  0005d	8b 45 14	 mov	 eax, DWORD PTR _dwGuildID$[ebp]
  00060	c7 86 84 00 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+132], 0
  0006a	89 86 90 00 00
	00		 mov	 DWORD PTR [esi+144], eax
  00070	e8 00 00 00 00	 call	 ?__Load@CGuildMarkUploader@@AAE_NPBDPAI@Z ; CGuildMarkUploader::__Load
  00075	84 c0		 test	 al, al
  00077	5e		 pop	 esi
  00078	0f 95 c0	 setne	 al

; 173  : 		return false;
; 174  : 		
; 175  : 	//if (!__Save(CGraphicMarkInstance::GetImageFileName().c_str()))
; 176  : 	//	return false;
; 177  : 	//CGraphicMarkInstance::ReloadImageFile();
; 178  : 	return true;
; 179  : }

  0007b	5d		 pop	 ebp
  0007c	c2 18 00	 ret	 24			; 00000018H
?Connect@CGuildMarkUploader@@QAE_NABVCNetworkAddress@@KKKPBDPAI@Z ENDP ; CGuildMarkUploader::Connect
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?ConnectToSendSymbol@CGuildMarkUploader@@QAE_NABVCNetworkAddress@@KKKPBDPAI@Z
_TEXT	SEGMENT
_c_rkNetAddr$ = 8					; size = 4
_dwHandle$ = 12						; size = 4
_dwRandomKey$ = 16					; size = 4
_dwGuildID$ = 20					; size = 4
_c_szFileName$ = 24					; size = 4
_peError$ = 28						; size = 4
?ConnectToSendSymbol@CGuildMarkUploader@@QAE_NABVCNetworkAddress@@KKKPBDPAI@Z PROC ; CGuildMarkUploader::ConnectToSendSymbol, COMDAT
; _this$ = ecx

; 182  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx

; 183  : 	__OfflineState_Set();

  00006	e8 00 00 00 00	 call	 ?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__OfflineState_Set

; 184  : 	SetRecvBufferSize(1024);

  0000b	68 00 04 00 00	 push	 1024			; 00000400H
  00010	8b ce		 mov	 ecx, esi
  00012	e8 00 00 00 00	 call	 ?SetRecvBufferSize@CNetworkStream@@QAEXH@Z ; CNetworkStream::SetRecvBufferSize

; 185  : 	SetSendBufferSize(64*1024);

  00017	68 00 00 01 00	 push	 65536			; 00010000H
  0001c	8b ce		 mov	 ecx, esi
  0001e	e8 00 00 00 00	 call	 ?SetSendBufferSize@CNetworkStream@@QAEXH@Z ; CNetworkStream::SetSendBufferSize

; 186  : 
; 187  : 	if (!CNetworkStream::Connect(c_rkNetAddr))

  00023	6a 03		 push	 3
  00025	ff 75 08	 push	 DWORD PTR _c_rkNetAddr$[ebp]
  00028	8b ce		 mov	 ecx, esi
  0002a	e8 00 00 00 00	 call	 ?Connect@CNetworkStream@@QAE_NABVCNetworkAddress@@H@Z ; CNetworkStream::Connect
  0002f	84 c0		 test	 al, al
  00031	75 10		 jne	 SHORT $LN2@ConnectToS

; 188  : 	{
; 189  : 		*peError=ERROR_CONNECT;

  00033	8b 45 1c	 mov	 eax, DWORD PTR _peError$[ebp]
  00036	5e		 pop	 esi
  00037	c7 00 01 00 00
	00		 mov	 DWORD PTR [eax], 1

; 190  : 		return false;

  0003d	32 c0		 xor	 al, al

; 199  : 		return false;
; 200  : 
; 201  : 	return true;
; 202  : }

  0003f	5d		 pop	 ebp
  00040	c2 18 00	 ret	 24			; 00000018H
$LN2@ConnectToS:

; 191  : 	}
; 192  : 
; 193  : 	m_dwSendType=SEND_TYPE_SYMBOL;
; 194  : 	m_dwHandle=dwHandle;

  00043	8b 45 0c	 mov	 eax, DWORD PTR _dwHandle$[ebp]

; 195  : 	m_dwRandomKey=dwRandomKey;
; 196  : 	m_dwGuildID=dwGuildID;
; 197  : 
; 198  : 	if (!__LoadSymbol(c_szFileName, peError))

  00046	8b ce		 mov	 ecx, esi
  00048	ff 75 1c	 push	 DWORD PTR _peError$[ebp]
  0004b	89 86 88 00 00
	00		 mov	 DWORD PTR [esi+136], eax
  00051	8b 45 10	 mov	 eax, DWORD PTR _dwRandomKey$[ebp]
  00054	ff 75 18	 push	 DWORD PTR _c_szFileName$[ebp]
  00057	89 86 8c 00 00
	00		 mov	 DWORD PTR [esi+140], eax
  0005d	8b 45 14	 mov	 eax, DWORD PTR _dwGuildID$[ebp]
  00060	c7 86 84 00 00
	00 01 00 00 00	 mov	 DWORD PTR [esi+132], 1
  0006a	89 86 90 00 00
	00		 mov	 DWORD PTR [esi+144], eax
  00070	e8 00 00 00 00	 call	 ?__LoadSymbol@CGuildMarkUploader@@AAE_NPBDPAI@Z ; CGuildMarkUploader::__LoadSymbol
  00075	84 c0		 test	 al, al
  00077	5e		 pop	 esi
  00078	0f 95 c0	 setne	 al

; 199  : 		return false;
; 200  : 
; 201  : 	return true;
; 202  : }

  0007b	5d		 pop	 ebp
  0007c	c2 18 00	 ret	 24			; 00000018H
?ConnectToSendSymbol@CGuildMarkUploader@@QAE_NABVCNetworkAddress@@KKKPBDPAI@Z ENDP ; CGuildMarkUploader::ConnectToSendSymbol
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?Process@CGuildMarkUploader@@QAEXXZ
_TEXT	SEGMENT
?Process@CGuildMarkUploader@@QAEXXZ PROC		; CGuildMarkUploader::Process, COMDAT
; _this$ = ecx

; 205  : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 206  : 	CNetworkStream::Process();

  00003	e8 00 00 00 00	 call	 ?Process@CNetworkStream@@QAEXXZ ; CNetworkStream::Process

; 207  : 
; 208  : 	if (!__StateProcess())

  00008	8b ce		 mov	 ecx, esi
  0000a	e8 00 00 00 00	 call	 ?__StateProcess@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__StateProcess
  0000f	84 c0		 test	 al, al
  00011	75 0f		 jne	 SHORT $LN1@Process

; 209  : 	{
; 210  : 		__OfflineState_Set();

  00013	8b ce		 mov	 ecx, esi
  00015	e8 00 00 00 00	 call	 ?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__OfflineState_Set

; 211  : 		Disconnect();

  0001a	8b ce		 mov	 ecx, esi

; 212  : 	}
; 213  : }

  0001c	5e		 pop	 esi

; 211  : 		Disconnect();

  0001d	e9 00 00 00 00	 jmp	 ?Disconnect@CGuildMarkUploader@@QAEXXZ ; CGuildMarkUploader::Disconnect
$LN1@Process:

; 212  : 	}
; 213  : }

  00022	5e		 pop	 esi
  00023	c3		 ret	 0
?Process@CGuildMarkUploader@@QAEXXZ ENDP		; CGuildMarkUploader::Process
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?OnConnectFailure@CGuildMarkUploader@@EAEXXZ
_TEXT	SEGMENT
?OnConnectFailure@CGuildMarkUploader@@EAEXXZ PROC	; CGuildMarkUploader::OnConnectFailure, COMDAT
; _this$ = ecx

; 217  : 	__OfflineState_Set();

  00000	e9 00 00 00 00	 jmp	 ?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__OfflineState_Set
?OnConnectFailure@CGuildMarkUploader@@EAEXXZ ENDP	; CGuildMarkUploader::OnConnectFailure
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?OnConnectSuccess@CGuildMarkUploader@@EAEXXZ
_TEXT	SEGMENT
?OnConnectSuccess@CGuildMarkUploader@@EAEXXZ PROC	; CGuildMarkUploader::OnConnectSuccess, COMDAT
; _this$ = ecx

; 222  : 	__LoginState_Set();

  00000	e9 00 00 00 00	 jmp	 ?__LoginState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__LoginState_Set
?OnConnectSuccess@CGuildMarkUploader@@EAEXXZ ENDP	; CGuildMarkUploader::OnConnectSuccess
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?OnRemoteDisconnect@CGuildMarkUploader@@EAEXXZ
_TEXT	SEGMENT
?OnRemoteDisconnect@CGuildMarkUploader@@EAEXXZ PROC	; CGuildMarkUploader::OnRemoteDisconnect, COMDAT
; _this$ = ecx

; 227  : 	__OfflineState_Set();

  00000	e9 00 00 00 00	 jmp	 ?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__OfflineState_Set
?OnRemoteDisconnect@CGuildMarkUploader@@EAEXXZ ENDP	; CGuildMarkUploader::OnRemoteDisconnect
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?OnDisconnect@CGuildMarkUploader@@EAEXXZ
_TEXT	SEGMENT
?OnDisconnect@CGuildMarkUploader@@EAEXXZ PROC		; CGuildMarkUploader::OnDisconnect, COMDAT
; _this$ = ecx

; 232  : 	__OfflineState_Set();

  00000	e9 00 00 00 00	 jmp	 ?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__OfflineState_Set
?OnDisconnect@CGuildMarkUploader@@EAEXXZ ENDP		; CGuildMarkUploader::OnDisconnect
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__Inialize@CGuildMarkUploader@@AAEXXZ
_TEXT	SEGMENT
?__Inialize@CGuildMarkUploader@@AAEXXZ PROC		; CGuildMarkUploader::__Inialize, COMDAT
; _this$ = ecx

; 236  : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 237  : 	m_eState = STATE_OFFLINE;
; 238  : 
; 239  : 	m_dwGuildID = 0;
; 240  : 	m_dwHandle = 0;
; 241  : 	m_dwRandomKey = 0;
; 242  : 
; 243  : 	if (m_pbySymbolBuf)

  00003	8b 86 9c 03 00
	00		 mov	 eax, DWORD PTR [esi+924]
  00009	c7 86 80 00 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+128], 0
  00013	c7 86 90 00 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+144], 0
  0001d	c7 86 88 00 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+136], 0
  00027	c7 86 8c 00 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+140], 0
  00031	85 c0		 test	 eax, eax
  00033	74 09		 je	 SHORT $LN4@Inialize

; 244  : 	{
; 245  : 		delete m_pbySymbolBuf;

  00035	50		 push	 eax
  00036	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  0003b	83 c4 04	 add	 esp, 4
$LN4@Inialize:

; 246  : 	}
; 247  : 
; 248  : 	m_dwSymbolBufSize = 0;
; 249  : 	m_pbySymbolBuf = NULL;

  0003e	c7 86 9c 03 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+924], 0
  00048	c7 86 94 03 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+916], 0
  00052	5e		 pop	 esi

; 250  : }

  00053	c3		 ret	 0
?__Inialize@CGuildMarkUploader@@AAEXXZ ENDP		; CGuildMarkUploader::__Inialize
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__StateProcess@CGuildMarkUploader@@AAE_NXZ
_TEXT	SEGMENT
?__StateProcess@CGuildMarkUploader@@AAE_NXZ PROC	; CGuildMarkUploader::__StateProcess, COMDAT
; _this$ = ecx

; 253  : {

  00000	51		 push	 ecx

; 254  : 	switch (m_eState)

  00001	8b 81 80 00 00
	00		 mov	 eax, DWORD PTR [ecx+128]
  00007	48		 dec	 eax
  00008	74 04		 je	 SHORT $LN1@StateProce

; 258  : 			break;
; 259  : 	}
; 260  : 
; 261  : 	return true;

  0000a	b0 01		 mov	 al, 1
  0000c	59		 pop	 ecx

; 262  : }

  0000d	c3		 ret	 0
$LN1@StateProce:

; 255  : 	{
; 256  : 		case STATE_LOGIN:
; 257  : 			return __LoginState_Process();

  0000e	e8 00 00 00 00	 call	 ?__LoginState_Process@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_Process
  00013	59		 pop	 ecx

; 262  : }

  00014	c3		 ret	 0
?__StateProcess@CGuildMarkUploader@@AAE_NXZ ENDP	; CGuildMarkUploader::__StateProcess
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ
_TEXT	SEGMENT
?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ PROC	; CGuildMarkUploader::__OfflineState_Set, COMDAT
; _this$ = ecx

; 266  : 	__Inialize();

  00000	e9 00 00 00 00	 jmp	 ?__Inialize@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__Inialize
?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ ENDP	; CGuildMarkUploader::__OfflineState_Set
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__CompleteState_Set@CGuildMarkUploader@@AAEXXZ
_TEXT	SEGMENT
?__CompleteState_Set@CGuildMarkUploader@@AAEXXZ PROC	; CGuildMarkUploader::__CompleteState_Set, COMDAT
; _this$ = ecx

; 271  : 	m_eState=STATE_COMPLETE;

  00000	c7 81 80 00 00
	00 02 00 00 00	 mov	 DWORD PTR [ecx+128], 2

; 272  : 
; 273  : 	__OfflineState_Set();

  0000a	e9 00 00 00 00	 jmp	 ?__OfflineState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__OfflineState_Set
?__CompleteState_Set@CGuildMarkUploader@@AAEXXZ ENDP	; CGuildMarkUploader::__CompleteState_Set
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__LoginState_Set@CGuildMarkUploader@@AAEXXZ
_TEXT	SEGMENT
?__LoginState_Set@CGuildMarkUploader@@AAEXXZ PROC	; CGuildMarkUploader::__LoginState_Set, COMDAT
; _this$ = ecx

; 279  : 	m_eState=STATE_LOGIN;

  00000	c7 81 80 00 00
	00 01 00 00 00	 mov	 DWORD PTR [ecx+128], 1

; 280  : }

  0000a	c3		 ret	 0
?__LoginState_Set@CGuildMarkUploader@@AAEXXZ ENDP	; CGuildMarkUploader::__LoginState_Set
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__LoginState_Process@CGuildMarkUploader@@AAE_NXZ
_TEXT	SEGMENT
?__LoginState_Process@CGuildMarkUploader@@AAE_NXZ PROC	; CGuildMarkUploader::__LoginState_Process, COMDAT
; _this$ = ecx

; 283  : {

  00000	56		 push	 esi

; 284  : 	if (!__AnalyzePacket(HEADER_GC_PHASE, sizeof(TPacketGCPhase), &CGuildMarkUploader::__LoginState_RecvPhase))

  00001	6a 00		 push	 0
  00003	68 00 00 00 00	 push	 OFFSET ?__LoginState_RecvPhase@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_RecvPhase
  00008	6a 02		 push	 2
  0000a	68 fd 00 00 00	 push	 253			; 000000fdH
  0000f	8b f1		 mov	 esi, ecx
  00011	e8 00 00 00 00	 call	 ?__AnalyzePacket@CGuildMarkUploader@@AAE_NIIP81@AE_NXZ@Z ; CGuildMarkUploader::__AnalyzePacket
  00016	84 c0		 test	 al, al
  00018	75 04		 jne	 SHORT $LN5@LoginState
$LN8@LoginState:

; 285  : 		return false;

  0001a	32 c0		 xor	 al, al

; 298  : 		return false;
; 299  : #endif
; 300  : 
; 301  : 	return true;
; 302  : }

  0001c	5e		 pop	 esi
  0001d	c3		 ret	 0
$LN5@LoginState:

; 286  : 
; 287  : 	if (!__AnalyzePacket(HEADER_GC_HANDSHAKE, sizeof(TPacketGCHandshake), &CGuildMarkUploader::__LoginState_RecvHandshake))

  0001e	6a 00		 push	 0
  00020	68 00 00 00 00	 push	 OFFSET ?__LoginState_RecvHandshake@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_RecvHandshake
  00025	6a 0d		 push	 13			; 0000000dH
  00027	68 ff 00 00 00	 push	 255			; 000000ffH
  0002c	8b ce		 mov	 ecx, esi
  0002e	e8 00 00 00 00	 call	 ?__AnalyzePacket@CGuildMarkUploader@@AAE_NIIP81@AE_NXZ@Z ; CGuildMarkUploader::__AnalyzePacket
  00033	84 c0		 test	 al, al
  00035	74 e3		 je	 SHORT $LN8@LoginState

; 288  : 		return false;
; 289  : 
; 290  : 	if (!__AnalyzePacket(HEADER_GC_PING, sizeof(TPacketGCPing), &CGuildMarkUploader::__LoginState_RecvPing))

  00037	6a 00		 push	 0
  00039	68 00 00 00 00	 push	 OFFSET ?__LoginState_RecvPing@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_RecvPing
  0003e	6a 01		 push	 1
  00040	6a 2c		 push	 44			; 0000002cH
  00042	8b ce		 mov	 ecx, esi
  00044	e8 00 00 00 00	 call	 ?__AnalyzePacket@CGuildMarkUploader@@AAE_NIIP81@AE_NXZ@Z ; CGuildMarkUploader::__AnalyzePacket
  00049	84 c0		 test	 al, al
  0004b	74 cd		 je	 SHORT $LN8@LoginState

; 291  : 		return false;
; 292  : 
; 293  : #ifdef _IMPROVED_PACKET_ENCRYPTION_
; 294  : 	if (!__AnalyzePacket(HEADER_GC_KEY_AGREEMENT, sizeof(TPacketKeyAgreement), &CGuildMarkUploader::__LoginState_RecvKeyAgreement))

  0004d	6a 00		 push	 0
  0004f	68 00 00 00 00	 push	 OFFSET ?__LoginState_RecvKeyAgreement@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_RecvKeyAgreement
  00054	68 05 01 00 00	 push	 261			; 00000105H
  00059	68 fb 00 00 00	 push	 251			; 000000fbH
  0005e	8b ce		 mov	 ecx, esi
  00060	e8 00 00 00 00	 call	 ?__AnalyzePacket@CGuildMarkUploader@@AAE_NIIP81@AE_NXZ@Z ; CGuildMarkUploader::__AnalyzePacket
  00065	84 c0		 test	 al, al
  00067	74 b1		 je	 SHORT $LN8@LoginState

; 295  : 		return false;
; 296  : 
; 297  : 	if (!__AnalyzePacket(HEADER_GC_KEY_AGREEMENT_COMPLETED, sizeof(TPacketKeyAgreementCompleted), &CGuildMarkUploader::__LoginState_RecvKeyAgreementCompleted))

  00069	6a 00		 push	 0
  0006b	68 00 00 00 00	 push	 OFFSET ?__LoginState_RecvKeyAgreementCompleted@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__LoginState_RecvKeyAgreementCompleted
  00070	6a 04		 push	 4
  00072	68 fa 00 00 00	 push	 250			; 000000faH
  00077	8b ce		 mov	 ecx, esi
  00079	e8 00 00 00 00	 call	 ?__AnalyzePacket@CGuildMarkUploader@@AAE_NIIP81@AE_NXZ@Z ; CGuildMarkUploader::__AnalyzePacket
  0007e	84 c0		 test	 al, al

; 298  : 		return false;
; 299  : #endif
; 300  : 
; 301  : 	return true;
; 302  : }

  00080	5e		 pop	 esi
  00081	0f 95 c0	 setne	 al
  00084	c3		 ret	 0
?__LoginState_Process@CGuildMarkUploader@@AAE_NXZ ENDP	; CGuildMarkUploader::__LoginState_Process
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__SendMarkPacket@CGuildMarkUploader@@AAE_NXZ
_TEXT	SEGMENT
_kPacketMarkUpload$ = -780				; size = 773
__$ArrayPad$ = -4					; size = 4
?__SendMarkPacket@CGuildMarkUploader@@AAE_NXZ PROC	; CGuildMarkUploader::__SendMarkPacket, COMDAT
; _this$ = ecx

; 305  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 0c 03 00
	00		 sub	 esp, 780		; 0000030cH
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	8b d1		 mov	 edx, ecx

; 306  : 	TPacketCGMarkUpload kPacketMarkUpload;
; 307  : 	kPacketMarkUpload.header=HEADER_CG_MARK_UPLOAD;

  00015	c6 85 f4 fc ff
	ff 66		 mov	 BYTE PTR _kPacketMarkUpload$[ebp], 102 ; 00000066H
  0001c	56		 push	 esi
  0001d	57		 push	 edi

; 308  : 	kPacketMarkUpload.gid=m_dwGuildID;
; 309  : 
; 310  : 	assert(sizeof(kPacketMarkUpload.image) == sizeof(m_kMark.m_apxBuf));
; 311  : 	memcpy(kPacketMarkUpload.image, m_kMark.m_apxBuf, sizeof(kPacketMarkUpload.image));

  0001e	b9 c0 00 00 00	 mov	 ecx, 192		; 000000c0H
  00023	8d bd f9 fc ff
	ff		 lea	 edi, DWORD PTR _kPacketMarkUpload$[ebp+5]
  00029	8b 82 90 00 00
	00		 mov	 eax, DWORD PTR [edx+144]
  0002f	8d b2 94 00 00
	00		 lea	 esi, DWORD PTR [edx+148]
  00035	89 85 f5 fc ff
	ff		 mov	 DWORD PTR _kPacketMarkUpload$[ebp+1], eax

; 312  : 
; 313  : 	if (!Send(sizeof(kPacketMarkUpload), &kPacketMarkUpload))

  0003b	8d 85 f4 fc ff
	ff		 lea	 eax, DWORD PTR _kPacketMarkUpload$[ebp]
  00041	f3 a5		 rep movsd
  00043	50		 push	 eax
  00044	68 05 03 00 00	 push	 773			; 00000305H
  00049	8b ca		 mov	 ecx, edx
  0004b	e8 00 00 00 00	 call	 ?Send@CNetworkStream@@QAE_NHPBX@Z ; CNetworkStream::Send

; 314  : 		return false;
; 315  : 
; 316  : 	return true;
; 317  : }

  00050	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00053	84 c0		 test	 al, al
  00055	5f		 pop	 edi
  00056	0f 95 c0	 setne	 al
  00059	33 cd		 xor	 ecx, ebp
  0005b	5e		 pop	 esi
  0005c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00061	8b e5		 mov	 esp, ebp
  00063	5d		 pop	 ebp
  00064	c3		 ret	 0
?__SendMarkPacket@CGuildMarkUploader@@AAE_NXZ ENDP	; CGuildMarkUploader::__SendMarkPacket
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__SendSymbolPacket@CGuildMarkUploader@@AAE_NXZ
_TEXT	SEGMENT
_kPacketSymbolUpload$ = -8				; size = 7
?__SendSymbolPacket@CGuildMarkUploader@@AAE_NXZ PROC	; CGuildMarkUploader::__SendSymbolPacket, COMDAT
; _this$ = ecx

; 319  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	56		 push	 esi
  00007	8b f1		 mov	 esi, ecx

; 320  : 	if (!m_pbySymbolBuf)

  00009	83 be 9c 03 00
	00 00		 cmp	 DWORD PTR [esi+924], 0
  00010	75 07		 jne	 SHORT $LN3@SendSymbol
$LN6@SendSymbol:

; 321  : 		return false;

  00012	32 c0		 xor	 al, al
  00014	5e		 pop	 esi

; 341  : }

  00015	8b e5		 mov	 esp, ebp
  00017	5d		 pop	 ebp
  00018	c3		 ret	 0
$LN3@SendSymbol:

; 322  : 
; 323  : 	TPacketCGSymbolUpload kPacketSymbolUpload;
; 324  : 	kPacketSymbolUpload.header=HEADER_CG_GUILD_SYMBOL_UPLOAD;
; 325  : 	kPacketSymbolUpload.handle=m_dwGuildID;

  00019	8b 86 90 00 00
	00		 mov	 eax, DWORD PTR [esi+144]
  0001f	89 45 fb	 mov	 DWORD PTR _kPacketSymbolUpload$[ebp+3], eax

; 326  : 	kPacketSymbolUpload.size=sizeof(TPacketCGSymbolUpload) + m_dwSymbolBufSize;

  00022	66 8b 86 94 03
	00 00		 mov	 ax, WORD PTR [esi+916]
  00029	66 83 c0 07	 add	 ax, 7
  0002d	c6 45 f8 70	 mov	 BYTE PTR _kPacketSymbolUpload$[ebp], 112 ; 00000070H
  00031	66 89 45 f9	 mov	 WORD PTR _kPacketSymbolUpload$[ebp+1], ax

; 327  : 
; 328  : 	if (!Send(sizeof(TPacketCGSymbolUpload), &kPacketSymbolUpload))

  00035	8d 45 f8	 lea	 eax, DWORD PTR _kPacketSymbolUpload$[ebp]
  00038	50		 push	 eax
  00039	6a 07		 push	 7
  0003b	e8 00 00 00 00	 call	 ?Send@CNetworkStream@@QAE_NHPBX@Z ; CNetworkStream::Send
  00040	84 c0		 test	 al, al
  00042	74 ce		 je	 SHORT $LN6@SendSymbol

; 329  : 		return false;
; 330  : 	if (!Send(m_dwSymbolBufSize, m_pbySymbolBuf))

  00044	ff b6 9c 03 00
	00		 push	 DWORD PTR [esi+924]
  0004a	8b ce		 mov	 ecx, esi
  0004c	ff b6 94 03 00
	00		 push	 DWORD PTR [esi+916]
  00052	e8 00 00 00 00	 call	 ?Send@CNetworkStream@@QAE_NHPBX@Z ; CNetworkStream::Send
  00057	84 c0		 test	 al, al
  00059	74 b7		 je	 SHORT $LN6@SendSymbol

; 331  : 		return false;
; 332  : 
; 333  : #ifdef _DEBUG
; 334  : 	printf("__SendSymbolPacket : [GuildID:%d/PacketSize:%d/BufSize:%d/CRC:%d]\n", m_dwGuildID, kPacketSymbolUpload.size, m_dwSymbolBufSize, m_dwSymbolCRC32);
; 335  : #endif
; 336  : 
; 337  : 	CNetworkStream::__SendInternalBuffer();

  0005b	8b ce		 mov	 ecx, esi
  0005d	e8 00 00 00 00	 call	 ?__SendInternalBuffer@CNetworkStream@@IAE_NXZ ; CNetworkStream::__SendInternalBuffer

; 338  : 	__CompleteState_Set();

  00062	8b ce		 mov	 ecx, esi
  00064	e8 00 00 00 00	 call	 ?__CompleteState_Set@CGuildMarkUploader@@AAEXXZ ; CGuildMarkUploader::__CompleteState_Set

; 339  : 
; 340  : 	return true;

  00069	b0 01		 mov	 al, 1
  0006b	5e		 pop	 esi

; 341  : }

  0006c	8b e5		 mov	 esp, ebp
  0006e	5d		 pop	 ebp
  0006f	c3		 ret	 0
?__SendSymbolPacket@CGuildMarkUploader@@AAE_NXZ ENDP	; CGuildMarkUploader::__SendSymbolPacket
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__LoginState_RecvPhase@CGuildMarkUploader@@AAE_NXZ
_TEXT	SEGMENT
_kPacketPhase$ = -4					; size = 2
?__LoginState_RecvPhase@CGuildMarkUploader@@AAE_NXZ PROC ; CGuildMarkUploader::__LoginState_RecvPhase, COMDAT
; _this$ = ecx

; 344  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	56		 push	 esi

; 345  : 	TPacketGCPhase kPacketPhase;
; 346  : 	if (!Recv(sizeof(kPacketPhase), &kPacketPhase))

  00005	8d 45 fc	 lea	 eax, DWORD PTR _kPacketPhase$[ebp]
  00008	8b f1		 mov	 esi, ecx
  0000a	50		 push	 eax
  0000b	6a 02		 push	 2
  0000d	e8 00 00 00 00	 call	 ?Recv@CNetworkStream@@QAE_NHPAX@Z ; CNetworkStream::Recv
  00012	84 c0		 test	 al, al
  00014	74 1b		 je	 SHORT $LN10@LoginState

; 347  : 		return false;
; 348  : 
; 349  : 	if (kPacketPhase.phase==PHASE_LOGIN)

  00016	80 7d fd 02	 cmp	 BYTE PTR _kPacketPhase$[ebp+1], 2
  0001a	75 31		 jne	 SHORT $LN1@LoginState

; 350  : 	{
; 351  : #ifndef _IMPROVED_PACKET_ENCRYPTION_
; 352  : 		const char* key = LocaleService_GetSecurityKey();
; 353  : 		SetSecurityMode(true, key);
; 354  : #endif
; 355  : 
; 356  : 		if (SEND_TYPE_MARK == m_dwSendType)

  0001c	8b 86 84 00 00
	00		 mov	 eax, DWORD PTR [esi+132]
  00022	85 c0		 test	 eax, eax
  00024	75 12		 jne	 SHORT $LN5@LoginState

; 357  : 		{
; 358  : 			if (!__SendMarkPacket())

  00026	8b ce		 mov	 ecx, esi
  00028	e8 00 00 00 00	 call	 ?__SendMarkPacket@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__SendMarkPacket
  0002d	84 c0		 test	 al, al
  0002f	75 1c		 jne	 SHORT $LN1@LoginState
$LN10@LoginState:

; 359  : 				return false;

  00031	32 c0		 xor	 al, al
  00033	5e		 pop	 esi

; 369  : }

  00034	8b e5		 mov	 esp, ebp
  00036	5d		 pop	 ebp
  00037	c3		 ret	 0
$LN5@LoginState:

; 360  : 		}
; 361  : 		else if (SEND_TYPE_SYMBOL == m_dwSendType)

  00038	83 f8 01	 cmp	 eax, 1
  0003b	75 10		 jne	 SHORT $LN1@LoginState

; 362  : 		{
; 363  : 			if (!__SendSymbolPacket())

  0003d	8b ce		 mov	 ecx, esi
  0003f	e8 00 00 00 00	 call	 ?__SendSymbolPacket@CGuildMarkUploader@@AAE_NXZ ; CGuildMarkUploader::__SendSymbolPacket
  00044	84 c0		 test	 al, al
  00046	75 05		 jne	 SHORT $LN1@LoginState
  00048	5e		 pop	 esi

; 369  : }

  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
$LN1@LoginState:

; 364  : 				return false;
; 365  : 		}
; 366  : 	}
; 367  : 
; 368  : 	return true;

  0004d	b0 01		 mov	 al, 1
  0004f	5e		 pop	 esi

; 369  : }

  00050	8b e5		 mov	 esp, ebp
  00052	5d		 pop	 ebp
  00053	c3		 ret	 0
?__LoginState_RecvPhase@CGuildMarkUploader@@AAE_NXZ ENDP ; CGuildMarkUploader::__LoginState_RecvPhase
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__LoginState_RecvHandshake@CGuildMarkUploader@@AAE_NXZ
_TEXT	SEGMENT
_kPacketHandshake$ = -32				; size = 13
_kPacketMarkLogin$1 = -16				; size = 9
__$ArrayPad$ = -4					; size = 4
?__LoginState_RecvHandshake@CGuildMarkUploader@@AAE_NXZ PROC ; CGuildMarkUploader::__LoginState_RecvHandshake, COMDAT
; _this$ = ecx

; 372  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi

; 373  : 	TPacketGCHandshake kPacketHandshake;
; 374  : 	if (!Recv(sizeof(kPacketHandshake), &kPacketHandshake))

  00011	8d 45 e0	 lea	 eax, DWORD PTR _kPacketHandshake$[ebp]
  00014	8b f1		 mov	 esi, ecx
  00016	50		 push	 eax
  00017	6a 0d		 push	 13			; 0000000dH
  00019	e8 00 00 00 00	 call	 ?Recv@CNetworkStream@@QAE_NHPAX@Z ; CNetworkStream::Recv
  0001e	84 c0		 test	 al, al
  00020	75 0f		 jne	 SHORT $LN2@LoginState
  00022	5e		 pop	 esi

; 383  : 			return false;
; 384  : 	}
; 385  : 
; 386  : 	return true;
; 387  : }

  00023	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00026	33 cd		 xor	 ecx, ebp
  00028	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0002d	8b e5		 mov	 esp, ebp
  0002f	5d		 pop	 ebp
  00030	c3		 ret	 0
$LN2@LoginState:

; 375  : 		return false;
; 376  : 
; 377  : 	{
; 378  : 		TPacketCGMarkLogin kPacketMarkLogin;
; 379  : 		kPacketMarkLogin.header=HEADER_CG_MARK_LOGIN;
; 380  : 		kPacketMarkLogin.handle=m_dwHandle;

  00031	8b 86 88 00 00
	00		 mov	 eax, DWORD PTR [esi+136]

; 381  : 		kPacketMarkLogin.random_key=m_dwRandomKey;
; 382  : 		if (!Send(sizeof(kPacketMarkLogin), &kPacketMarkLogin))

  00037	8b ce		 mov	 ecx, esi
  00039	89 45 f1	 mov	 DWORD PTR _kPacketMarkLogin$1[ebp+1], eax
  0003c	8b 86 8c 00 00
	00		 mov	 eax, DWORD PTR [esi+140]
  00042	89 45 f5	 mov	 DWORD PTR _kPacketMarkLogin$1[ebp+5], eax
  00045	8d 45 f0	 lea	 eax, DWORD PTR _kPacketMarkLogin$1[ebp]
  00048	50		 push	 eax
  00049	6a 09		 push	 9
  0004b	c6 45 f0 64	 mov	 BYTE PTR _kPacketMarkLogin$1[ebp], 100 ; 00000064H
  0004f	e8 00 00 00 00	 call	 ?Send@CNetworkStream@@QAE_NHPBX@Z ; CNetworkStream::Send

; 383  : 			return false;
; 384  : 	}
; 385  : 
; 386  : 	return true;
; 387  : }

  00054	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00057	84 c0		 test	 al, al
  00059	5e		 pop	 esi
  0005a	0f 95 c0	 setne	 al
  0005d	33 cd		 xor	 ecx, ebp
  0005f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00064	8b e5		 mov	 esp, ebp
  00066	5d		 pop	 ebp
  00067	c3		 ret	 0
?__LoginState_RecvHandshake@CGuildMarkUploader@@AAE_NXZ ENDP ; CGuildMarkUploader::__LoginState_RecvHandshake
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__LoginState_RecvPing@CGuildMarkUploader@@AAE_NXZ
_TEXT	SEGMENT
_kPacketPing$ = -2					; size = 1
_kPacketPong$ = -1					; size = 1
?__LoginState_RecvPing@CGuildMarkUploader@@AAE_NXZ PROC	; CGuildMarkUploader::__LoginState_RecvPing, COMDAT
; _this$ = ecx

; 390  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	56		 push	 esi

; 391  : 	TPacketGCPing kPacketPing;
; 392  : 	if (!Recv(sizeof(kPacketPing), &kPacketPing))

  00005	8d 45 fe	 lea	 eax, DWORD PTR _kPacketPing$[ebp]
  00008	8b f1		 mov	 esi, ecx
  0000a	50		 push	 eax
  0000b	6a 01		 push	 1
  0000d	e8 00 00 00 00	 call	 ?Recv@CNetworkStream@@QAE_NHPAX@Z ; CNetworkStream::Recv
  00012	84 c0		 test	 al, al
  00014	75 07		 jne	 SHORT $LN4@LoginState
$LN7@LoginState:

; 393  : 		return false;

  00016	32 c0		 xor	 al, al
  00018	5e		 pop	 esi

; 405  : }

  00019	8b e5		 mov	 esp, ebp
  0001b	5d		 pop	 ebp
  0001c	c3		 ret	 0
$LN4@LoginState:

; 394  : 
; 395  : 	TPacketCGPong kPacketPong;
; 396  : 	kPacketPong.bHeader = HEADER_CG_PONG;
; 397  : 
; 398  : 	if (!Send(sizeof(TPacketCGPong), &kPacketPong))

  0001d	8d 45 ff	 lea	 eax, DWORD PTR _kPacketPong$[ebp]
  00020	c6 45 ff fe	 mov	 BYTE PTR _kPacketPong$[ebp], 254 ; 000000feH
  00024	50		 push	 eax
  00025	6a 01		 push	 1
  00027	8b ce		 mov	 ecx, esi
  00029	e8 00 00 00 00	 call	 ?Send@CNetworkStream@@QAE_NHPBX@Z ; CNetworkStream::Send
  0002e	84 c0		 test	 al, al
  00030	74 e4		 je	 SHORT $LN7@LoginState

; 399  : 		return false;
; 400  : 
; 401  : 	if (IsSecurityMode())

  00032	8b ce		 mov	 ecx, esi
  00034	e8 00 00 00 00	 call	 ?IsSecurityMode@CNetworkStream@@QAE_NXZ ; CNetworkStream::IsSecurityMode
  00039	84 c0		 test	 al, al
  0003b	74 0c		 je	 SHORT $LN2@LoginState

; 402  : 		return SendSequence();

  0003d	8b ce		 mov	 ecx, esi
  0003f	e8 00 00 00 00	 call	 ?SendSequence@CNetworkStream@@QAE_NXZ ; CNetworkStream::SendSequence
  00044	5e		 pop	 esi

; 405  : }

  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c3		 ret	 0
$LN2@LoginState:

; 403  : 	else
; 404  : 		return true;

  00049	b0 01		 mov	 al, 1
  0004b	5e		 pop	 esi

; 405  : }

  0004c	8b e5		 mov	 esp, ebp
  0004e	5d		 pop	 ebp
  0004f	c3		 ret	 0
?__LoginState_RecvPing@CGuildMarkUploader@@AAE_NXZ ENDP	; CGuildMarkUploader::__LoginState_RecvPing
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__LoginState_RecvKeyAgreement@CGuildMarkUploader@@AAE_NXZ
_TEXT	SEGMENT
_dataLength$ = -536					; size = 4
_packet$ = -532						; size = 261
_packetToSend$ = -268					; size = 261
__$ArrayPad$ = -4					; size = 4
?__LoginState_RecvKeyAgreement@CGuildMarkUploader@@AAE_NXZ PROC ; CGuildMarkUploader::__LoginState_RecvKeyAgreement, COMDAT
; _this$ = ecx

; 409  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 18 02 00
	00		 sub	 esp, 536		; 00000218H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi

; 410  : 	TPacketKeyAgreement packet;
; 411  : 	if (!Recv(sizeof(packet), &packet))

  00014	8d 85 ec fd ff
	ff		 lea	 eax, DWORD PTR _packet$[ebp]
  0001a	8b f1		 mov	 esi, ecx
  0001c	50		 push	 eax
  0001d	68 05 01 00 00	 push	 261			; 00000105H
  00022	e8 00 00 00 00	 call	 ?Recv@CNetworkStream@@QAE_NHPAX@Z ; CNetworkStream::Recv
  00027	84 c0		 test	 al, al
  00029	75 0f		 jne	 SHORT $LN5@LoginState
  0002b	5e		 pop	 esi

; 450  : }

  0002c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0002f	33 cd		 xor	 ecx, ebp
  00031	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00036	8b e5		 mov	 esp, ebp
  00038	5d		 pop	 ebp
  00039	c3		 ret	 0
$LN5@LoginState:

; 412  : 	{
; 413  : 		return false;
; 414  : 	}
; 415  : 
; 416  : 	Tracenf("KEY_AGREEMENT RECV %u", packet.wDataLength);

  0003a	0f b7 85 ef fd
	ff ff		 movzx	 eax, WORD PTR _packet$[ebp+3]
  00041	57		 push	 edi
  00042	50		 push	 eax
  00043	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@BIKAAIDD@KEY_AGREEMENT?5RECV?5?$CFu?$AA@
  00048	e8 00 00 00 00	 call	 ?Tracenf@@YAXPBDZZ	; Tracenf
  0004d	83 c4 08	 add	 esp, 8

; 417  : 
; 418  : 	TPacketKeyAgreement packetToSend;
; 419  : 	size_t dataLength = TPacketKeyAgreement::MAX_DATA_LEN;

  00050	c7 85 e8 fd ff
	ff 00 01 00 00	 mov	 DWORD PTR _dataLength$[ebp], 256 ; 00000100H

; 420  : 	size_t agreedLength = Prepare(packetToSend.data, &dataLength);

  0005a	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _dataLength$[ebp]
  00060	8b ce		 mov	 ecx, esi
  00062	50		 push	 eax
  00063	8d 85 f9 fe ff
	ff		 lea	 eax, DWORD PTR _packetToSend$[ebp+5]
  00069	50		 push	 eax
  0006a	e8 00 00 00 00	 call	 ?Prepare@CNetworkStream@@IAEIPAXPAI@Z ; CNetworkStream::Prepare
  0006f	8b f8		 mov	 edi, eax

; 421  : 	if (agreedLength == 0)
; 422  : 	{
; 423  : 		//  
; 424  : 		Disconnect();

  00071	8b ce		 mov	 ecx, esi
  00073	85 ff		 test	 edi, edi
  00075	0f 84 99 00 00
	00		 je	 $LN9@LoginState

; 425  : 		return false;
; 426  : 	}
; 427  : 	assert(dataLength <= TPacketKeyAgreement::MAX_DATA_LEN);
; 428  : 
; 429  : 	if (Activate(packet.wAgreedLength, packet.data, packet.wDataLength))

  0007b	0f b7 85 ef fd
	ff ff		 movzx	 eax, WORD PTR _packet$[ebp+3]
  00082	50		 push	 eax
  00083	8d 85 f1 fd ff
	ff		 lea	 eax, DWORD PTR _packet$[ebp+5]
  00089	50		 push	 eax
  0008a	0f b7 85 ed fd
	ff ff		 movzx	 eax, WORD PTR _packet$[ebp+1]
  00091	50		 push	 eax
  00092	e8 00 00 00 00	 call	 ?Activate@CNetworkStream@@IAE_NIPBXI@Z ; CNetworkStream::Activate

; 435  : 
; 436  : 		if (!Send(sizeof(packetToSend), &packetToSend))

  00097	8b ce		 mov	 ecx, esi
  00099	84 c0		 test	 al, al
  0009b	74 77		 je	 SHORT $LN9@LoginState

; 430  : 	{
; 431  : 		// Key agreement ,  
; 432  : 		packetToSend.bHeader = HEADER_CG_KEY_AGREEMENT;
; 433  : 		packetToSend.wAgreedLength = (WORD)agreedLength;
; 434  : 		packetToSend.wDataLength = (WORD)dataLength;

  0009d	66 8b 85 e8 fd
	ff ff		 mov	 ax, WORD PTR _dataLength$[ebp]
  000a4	66 89 85 f7 fe
	ff ff		 mov	 WORD PTR _packetToSend$[ebp+3], ax

; 435  : 
; 436  : 		if (!Send(sizeof(packetToSend), &packetToSend))

  000ab	8d 85 f4 fe ff
	ff		 lea	 eax, DWORD PTR _packetToSend$[ebp]
  000b1	50		 push	 eax
  000b2	68 05 01 00 00	 push	 261			; 00000105H
  000b7	c6 85 f4 fe ff
	ff fb		 mov	 BYTE PTR _packetToSend$[ebp], 251 ; 000000fbH
  000be	66 89 bd f5 fe
	ff ff		 mov	 WORD PTR _packetToSend$[ebp+1], di
  000c5	e8 00 00 00 00	 call	 ?Send@CNetworkStream@@QAE_NHPBX@Z ; CNetworkStream::Send
  000ca	84 c0		 test	 al, al
  000cc	75 1f		 jne	 SHORT $LN2@LoginState

; 437  : 		{
; 438  : 			Tracen(" CAccountConnector::__AuthState_RecvKeyAgreement - SendKeyAgreement Error");

  000ce	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@DCNAEAA@?5CAccountConnector?3?3__AuthState_@
  000d3	e8 00 00 00 00	 call	 ?Tracen@@YAXPBD@Z	; Tracen
  000d8	83 c4 04	 add	 esp, 4

; 447  : 		return false;

  000db	32 c0		 xor	 al, al
  000dd	5f		 pop	 edi
  000de	5e		 pop	 esi

; 450  : }

  000df	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000e2	33 cd		 xor	 ecx, ebp
  000e4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000e9	8b e5		 mov	 esp, ebp
  000eb	5d		 pop	 ebp
  000ec	c3		 ret	 0
$LN2@LoginState:

; 439  : 			return false;
; 440  : 		}
; 441  : 		Tracenf("KEY_AGREEMENT SEND %u", packetToSend.wDataLength);

  000ed	0f b7 85 f7 fe
	ff ff		 movzx	 eax, WORD PTR _packetToSend$[ebp+3]
  000f4	50		 push	 eax
  000f5	68 00 00 00 00	 push	 OFFSET ??_C@_0BG@HCLENPJB@KEY_AGREEMENT?5SEND?5?$CFu?$AA@
  000fa	e8 00 00 00 00	 call	 ?Tracenf@@YAXPBDZZ	; Tracenf
  000ff	83 c4 08	 add	 esp, 8

; 448  : 	}
; 449  : 	return true;

  00102	b0 01		 mov	 al, 1
  00104	5f		 pop	 edi
  00105	5e		 pop	 esi

; 450  : }

  00106	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00109	33 cd		 xor	 ecx, ebp
  0010b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00110	8b e5		 mov	 esp, ebp
  00112	5d		 pop	 ebp
  00113	c3		 ret	 0
$LN9@LoginState:

; 442  : 	}
; 443  : 	else
; 444  : 	{
; 445  : 		//   
; 446  : 		Disconnect();

  00114	e8 00 00 00 00	 call	 ?Disconnect@CGuildMarkUploader@@QAEXXZ ; CGuildMarkUploader::Disconnect

; 450  : }

  00119	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0011c	32 c0		 xor	 al, al
  0011e	5f		 pop	 edi
  0011f	33 cd		 xor	 ecx, ebp
  00121	5e		 pop	 esi
  00122	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00127	8b e5		 mov	 esp, ebp
  00129	5d		 pop	 ebp
  0012a	c3		 ret	 0
?__LoginState_RecvKeyAgreement@CGuildMarkUploader@@AAE_NXZ ENDP ; CGuildMarkUploader::__LoginState_RecvKeyAgreement
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__LoginState_RecvKeyAgreementCompleted@CGuildMarkUploader@@AAE_NXZ
_TEXT	SEGMENT
_packet$ = -4						; size = 4
?__LoginState_RecvKeyAgreementCompleted@CGuildMarkUploader@@AAE_NXZ PROC ; CGuildMarkUploader::__LoginState_RecvKeyAgreementCompleted, COMDAT
; _this$ = ecx

; 453  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	56		 push	 esi

; 454  : 	TPacketKeyAgreementCompleted packet;
; 455  : 	if (!Recv(sizeof(packet), &packet))

  00005	8d 45 fc	 lea	 eax, DWORD PTR _packet$[ebp]
  00008	8b f1		 mov	 esi, ecx
  0000a	50		 push	 eax
  0000b	6a 04		 push	 4
  0000d	e8 00 00 00 00	 call	 ?Recv@CNetworkStream@@QAE_NHPAX@Z ; CNetworkStream::Recv
  00012	84 c0		 test	 al, al
  00014	75 05		 jne	 SHORT $LN1@LoginState
  00016	5e		 pop	 esi

; 465  : }

  00017	8b e5		 mov	 esp, ebp
  00019	5d		 pop	 ebp
  0001a	c3		 ret	 0
$LN1@LoginState:

; 456  : 	{
; 457  : 		return false;
; 458  : 	}
; 459  : 
; 460  : 	Tracenf("KEY_AGREEMENT_COMPLETED RECV");

  0001b	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@EDLJMNFO@KEY_AGREEMENT_COMPLETED?5RECV?$AA@
  00020	e8 00 00 00 00	 call	 ?Tracenf@@YAXPBDZZ	; Tracenf
  00025	83 c4 04	 add	 esp, 4

; 461  : 
; 462  : 	ActivateCipher();

  00028	8b ce		 mov	 ecx, esi
  0002a	e8 00 00 00 00	 call	 ?ActivateCipher@CNetworkStream@@IAEXXZ ; CNetworkStream::ActivateCipher

; 463  : 
; 464  : 	return true;

  0002f	b0 01		 mov	 al, 1
  00031	5e		 pop	 esi

; 465  : }

  00032	8b e5		 mov	 esp, ebp
  00034	5d		 pop	 ebp
  00035	c3		 ret	 0
?__LoginState_RecvKeyAgreementCompleted@CGuildMarkUploader@@AAE_NXZ ENDP ; CGuildMarkUploader::__LoginState_RecvKeyAgreementCompleted
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\userinterface\guildmarkuploader.cpp
;	COMDAT ?__AnalyzePacket@CGuildMarkUploader@@AAE_NIIP81@AE_NXZ@Z
_TEXT	SEGMENT
_bHeader$ = -1						; size = 1
_uHeader$ = 8						; size = 4
_uPacketSize$ = 12					; size = 4
_pfnDispatchPacket$ = 16				; size = 8
?__AnalyzePacket@CGuildMarkUploader@@AAE_NIIP81@AE_NXZ@Z PROC ; CGuildMarkUploader::__AnalyzePacket, COMDAT
; _this$ = ecx

; 469  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	56		 push	 esi

; 470  : 	BYTE bHeader;
; 471  : 	if (!Peek(sizeof(bHeader), &bHeader))

  00005	8d 45 ff	 lea	 eax, DWORD PTR _bHeader$[ebp]
  00008	8b f1		 mov	 esi, ecx
  0000a	50		 push	 eax
  0000b	6a 01		 push	 1
  0000d	e8 00 00 00 00	 call	 ?Peek@CNetworkStream@@QAE_NHPAX@Z ; CNetworkStream::Peek
  00012	84 c0		 test	 al, al
  00014	75 09		 jne	 SHORT $LN3@AnalyzePac
$LN6@AnalyzePac:

; 472  : 		return true;

  00016	b0 01		 mov	 al, 1
  00018	5e		 pop	 esi

; 481  : }

  00019	8b e5		 mov	 esp, ebp
  0001b	5d		 pop	 ebp
  0001c	c2 10 00	 ret	 16			; 00000010H
$LN3@AnalyzePac:

; 473  : 
; 474  : 	if (bHeader!=uHeader)

  0001f	0f b6 45 ff	 movzx	 eax, BYTE PTR _bHeader$[ebp]
  00023	3b 45 08	 cmp	 eax, DWORD PTR _uHeader$[ebp]
  00026	75 ee		 jne	 SHORT $LN6@AnalyzePac

; 475  : 		return true;
; 476  : 
; 477  : 	if (!Peek(uPacketSize))

  00028	ff 75 0c	 push	 DWORD PTR _uPacketSize$[ebp]
  0002b	8b ce		 mov	 ecx, esi
  0002d	e8 00 00 00 00	 call	 ?Peek@CNetworkStream@@QAE_NH@Z ; CNetworkStream::Peek
  00032	84 c0		 test	 al, al
  00034	74 e0		 je	 SHORT $LN6@AnalyzePac

; 478  : 		return true;
; 479  : 
; 480  : 	return (this->*pfnDispatchPacket)();

  00036	8b 4d 14	 mov	 ecx, DWORD PTR _pfnDispatchPacket$[ebp+4]
  00039	8d 0c 31	 lea	 ecx, DWORD PTR [ecx+esi]
  0003c	ff 55 10	 call	 DWORD PTR _pfnDispatchPacket$[ebp]
  0003f	5e		 pop	 esi

; 481  : }

  00040	8b e5		 mov	 esp, ebp
  00042	5d		 pop	 ebp
  00043	c2 10 00	 ret	 16			; 00000010H
?__AnalyzePacket@CGuildMarkUploader@@AAE_NIIP81@AE_NXZ@Z ENDP ; CGuildMarkUploader::__AnalyzePacket
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\singleton.h
;	COMDAT ??0?$CSingleton@VCGuildMarkUploader@@@@QAE@XZ
_TEXT	SEGMENT
??0?$CSingleton@VCGuildMarkUploader@@@@QAE@XZ PROC	; CSingleton<CGuildMarkUploader>::CSingleton<CGuildMarkUploader>, COMDAT
; _this$ = ecx

; 12   : 	{ 
; 13   : 		assert(!ms_singleton);
; 14   : 		int offset = (int) (T*) 1 - (int) (CSingleton <T>*) (T*) 1; 
; 15   : 		ms_singleton = (T*) ((int) this + offset);

  00000	8d 41 84	 lea	 eax, DWORD PTR [ecx-124]
  00003	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7?$CSingleton@VCGuildMarkUploader@@@@6B@
  00009	a3 00 00 00 00	 mov	 DWORD PTR ?ms_singleton@?$CSingleton@VCGuildMarkUploader@@@@0PAVCGuildMarkUploader@@A, eax ; CSingleton<CGuildMarkUploader>::ms_singleton

; 16   : 	} 

  0000e	8b c1		 mov	 eax, ecx
  00010	c3		 ret	 0
??0?$CSingleton@VCGuildMarkUploader@@@@QAE@XZ ENDP	; CSingleton<CGuildMarkUploader>::CSingleton<CGuildMarkUploader>
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\singleton.h
;	COMDAT ??1?$CSingleton@VCGuildMarkUploader@@@@UAE@XZ
_TEXT	SEGMENT
??1?$CSingleton@VCGuildMarkUploader@@@@UAE@XZ PROC	; CSingleton<CGuildMarkUploader>::~CSingleton<CGuildMarkUploader>, COMDAT
; _this$ = ecx

; 19   : 	{ 

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7?$CSingleton@VCGuildMarkUploader@@@@6B@

; 20   : 		assert(ms_singleton);
; 21   : 		ms_singleton = 0; 

  00006	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?ms_singleton@?$CSingleton@VCGuildMarkUploader@@@@0PAVCGuildMarkUploader@@A, 0 ; CSingleton<CGuildMarkUploader>::ms_singleton

; 22   : 	}

  00010	c3		 ret	 0
??1?$CSingleton@VCGuildMarkUploader@@@@UAE@XZ ENDP	; CSingleton<CGuildMarkUploader>::~CSingleton<CGuildMarkUploader>
_TEXT	ENDS
; Function compile flags: /Ogtp
; File d:\metin2\metin2\client_source_clean\client_source_clean\source\eterbase\singleton.h
;	COMDAT ??_G?$CSingleton@VCGuildMarkUploader@@@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_G?$CSingleton@VCGuildMarkUploader@@@@UAEPAXI@Z PROC	; CSingleton<CGuildMarkUploader>::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  00007	56		 push	 esi
  00008	8b f1		 mov	 esi, ecx

; 21   : 		ms_singleton = 0; 

  0000a	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?ms_singleton@?$CSingleton@VCGuildMarkUploader@@@@0PAVCGuildMarkUploader@@A, 0 ; CSingleton<CGuildMarkUploader>::ms_singleton
  00014	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7?$CSingleton@VCGuildMarkUploader@@@@6B@
  0001a	74 09		 je	 SHORT $LN6@scalar
  0001c	56		 push	 esi
  0001d	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00022	83 c4 04	 add	 esp, 4
$LN6@scalar:
  00025	8b c6		 mov	 eax, esi
  00027	5e		 pop	 esi
  00028	5d		 pop	 ebp
  00029	c2 04 00	 ret	 4
??_G?$CSingleton@VCGuildMarkUploader@@@@UAEPAXI@Z ENDP	; CSingleton<CGuildMarkUploader>::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Odsp
;	COMDAT ??_ECGuildMarkUploader@@WHM@AEPAXI@Z
_TEXT	SEGMENT
??_ECGuildMarkUploader@@WHM@AEPAXI@Z PROC		; [thunk]:CGuildMarkUploader::`vector deleting destructor', COMDAT
  00000	83 e9 7c	 sub	 ecx, 124		; 0000007cH
  00003	e9 00 00 00 00	 jmp	 ??_ECGuildMarkUploader@@UAEPAXI@Z
??_ECGuildMarkUploader@@WHM@AEPAXI@Z ENDP		; [thunk]:CGuildMarkUploader::`vector deleting destructor'
_TEXT	ENDS
END
